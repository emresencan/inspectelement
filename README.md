# inspectelement

`inspectelement` is a desktop MVP for "Inspect Element for Automation" workflows.

It opens a Chromium browser, lets you toggle Inspect Mode, captures clicked elements, and proposes robust locators with scoring and feedback learning.

## Features

- URL input + Launch button
- Inspect Mode toggle (click interception only when enabled)
- Element overlay highlight on hover
- Locator candidate generation (CSS, XPath, Playwright, Selenium-style)
- Top ranked suggestions with score and per-row copy
- "Copy best" action
- Element detail panel: tag, id, classes, name, role, text, placeholder, aria-label
- Feedback loop (Good / Bad) with SQLite learning store and JSON fallback
- Reset learning button

## Install

1. Create a Python 3.11+ virtual environment:

```bash
python -m venv .venv
```

2. Activate the virtual environment:

macOS/Linux:

```bash
source .venv/bin/activate
```

Windows (PowerShell):

```powershell
.venv\Scripts\Activate.ps1
```

Windows (Command Prompt):

```bat
.venv\Scripts\activate.bat
```

3. Install dependencies:

```bash
pip install -r requirements.txt
```

4. Install Chromium for Playwright:

```bash
python -m playwright install chromium
```

5. Run the app:

```bash
python -m inspectelement
```

## Run

From the repository root:

```bash
python -m inspectelement
```

Or with console script:

```bash
inspectelement
```

## Doctor Checks

Verify interpreter and import path before running:

```bash
which python
python -c "import sys; print(sys.executable)"
python -c "import importlib; print(importlib.import_module('inspectelement.main_window').__file__)"
python -c "import importlib; print(importlib.import_module('inspectelement.context_wizard').__file__)"
```

Windows PowerShell:

```powershell
Get-Command python
python -c "import sys; print(sys.executable)"
python -c "import importlib; print(importlib.import_module('inspectelement.main_window').__file__)"
python -c "import importlib; print(importlib.import_module('inspectelement.context_wizard').__file__)"
```

## Troubleshooting

- Missing Chromium/browser executable errors:

```bash
python -m playwright install chromium
```

## Project Structure

```text
inspectelement/
  README.md
  pyproject.toml
  requirements.txt
  src/inspectelement/...
  tests/...
  assets/icon.png
  scripts/build_exe.sh
```

## Learning Store

- Primary backend: SQLite (`~/.inspectelement/learning.db`)
- Fallback: JSON (`~/.inspectelement/learning.json`) when SQLite is unavailable

Feedback saves:
- URL hostname
- Page title
- Element signature
- Chosen locator
- Good/Bad signal
- Timestamp

## Known Limitations

- Locator quality is heuristic and page-dependent.
- Playwright locator validation for role/label/placeholder is limited to direct patterns generated by this MVP.
- Element capture is scoped to main page context (no frame-specific targeting yet).
- Overlay/capture behavior is best-effort for highly custom event systems.
- `assets/icon.png` is a placeholder icon.

## Roadmap

- Selenium runtime mode
- Export selected locator as test code snippets
- Browser profile/session management
- Team-shared learning store
- Packaged executable installers

## Optional Build Script

A helper shell script is provided at `scripts/build_exe.sh` for PyInstaller-based builds.
